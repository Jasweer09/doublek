<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horse Auction - Homepage</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        body {
            background: linear-gradient(to right, #141e30, #243b55);
            color: #f0f0f0;
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 50px;
            background: rgba(31, 41, 55, 0.95);
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s ease;
        }

        .header:hover {
            background-color: rgba(31, 41, 55, 1);
        }

        .header .logo h1 {
            font-size: 2rem;
            font-weight: bold;
            margin: 0;
            letter-spacing: 2px;
            color: #ffffff;
        }

        .header .nav-links {
            display: flex;
            gap: 20px;
        }

        .header .nav-links a {
            text-decoration: none;
            color: #ffffff;
            font-weight: 500;
            padding: 10px 15px;
            border-radius: 5px;
            transition: color 0.3s ease, background-color 0.3s ease;
        }

        .header .nav-links a:hover {
            color: #38bdf8;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .header .cta-button {
            background-color: #38bdf8;
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .header .cta-button:hover {
            background-color: #1e3a8a;
            transform: scale(1.1);
        }

        /* Hero Banner */
        .hero {
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #ffffff;
            position: relative;
            
        }

        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        .hero .btn {
            background: #38bdf8;
            border: none;
            color: #ffffff;
            padding: 15px 30px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .hero .btn:hover {
            background: #1e3a8a;
            transform: scale(1.05);
        }

        /* Cards Section */
        .cards-section {
            padding: 50px 5%;
            text-align: center;
            background: linear-gradient(135deg, #1f2937, #0d1117);
        }

        .cards-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .card {
            background: #1f2937;
            border-radius: 10px;
            overflow: hidden;
            width: 300px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .card-body {
            padding: 20px;
            text-align: center;
        }

        .card-body h5 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: bold;
            color: #ffffff;
        }

        .card-body p {
            font-size: 0.9rem;
            color: #9ca3af;
        }

        .card-body .price {
            color: #38bdf8;
            font-weight: bold;
            margin-top: 10px;
        }

        /* Footer */
        .footer {
            background: #1f2937;
            color: #9ca3af;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #374151;
        }

        .about-section,
        .contact-section {
        background: linear-gradient(135deg, #1f2937, #0d1117);
        border-radius: 10px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
        margin-bottom: 20px;
        padding: 50px 5%;
        text-align: center;
    }

    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <h1>DoubleK</h1>
        </div>
        <nav class="nav-links">
            <a href="#buySection">Home</a>
            <a href="#heroSection">Upcoming Auctions</a>
            <a href="#aboutSection">About</a>
            <a href="#contactSection">Contact</a>
        </nav>
        <button class="cta-button">Join Now</button>
    </header>

    <!-- Buy Your Dream Horse Section -->
    <section class="cards-section" id="buySection">
        <h2>Buy Your Dream Horse</h2>
        <p>Explore our exclusive collection of horses available for purchase.</p>
        <div class="cards-container" id="cardsSection">
            <!-- Dynamic content -->
        </div>
        <div style="text-align: center; margin: 20px;">
            <button id="viewMoreButton" class="btn btn-primary">View More</button>
        </div>
    </section>

    <!-- Hero Section -->
    <section class="hero" id="heroSection">
        <div class="hero-content" >
            <h1>View Upcoming Auctions</h1>
            <p>Join our exclusive auctions and bid for the finest horses across the world.</p>
            <a href="upcomingauctions.html" class="btn">View Auctions</a>
        </div>
    </section>

    <section id="aboutSection" class="about-section">
        <h2>About Us</h2>
        <p>
            DoubleK Horse Auction is dedicated to connecting horse lovers with their dream horses. 
            With years of experience in the equestrian industry, we ensure that every horse listed meets the 
            highest standards of health, temperament, and performance. Whether you're a first-time buyer or 
            a seasoned equestrian, our platform offers a seamless and trustworthy auction experience.
        </p>
    </section>

    <section id="contactSection" class="contact-section">
        <h2>Contact Us</h2>
        <p>We’d love to hear from you! Whether you have questions about an auction or need assistance, feel free to reach out.</p>
        <p>Email: <a href="mailto:support@doublek.com" style="color: #38bdf8;">support@doublek.com</a></p>
        <p>Phone: <a href="tel:+1234567890" style="color: #38bdf8;">+1 234 567 890</a></p>
        <p>Address: 123 Equestrian Lane, Horseville, USA</p>
    </section>
    

    <!-- Footer -->
    <footer class="footer">
        <p>© 2024 Horse Auction. All rights reserved.</p>
    </footer>

    <script>
    let currentPage = 1; // To track the current page of data
    const cardsPerPage = 4; // Number of cards to display per load

    async function loadHorses() {
        try {
            const response = await fetch(`/api/horses?page=${currentPage}`);
            const horses = await response.json();
            const cardsSection = document.getElementById('cardsSection');
            const viewMoreButton = document.getElementById('viewMoreButton');

            if (!horses || horses.length === 0) {
                // Hide the "View More" button if no more horses are available
                viewMoreButton.style.display = 'none';
                return;
            }

            horses.slice(0, cardsPerPage).forEach((horse) => {
                const card = document.createElement('div');
                card.classList.add('card');
                card.innerHTML = `
                    <img src="${horse.image || 'https://via.placeholder.com/300x200'}" alt="${horse.name}">
                    <div class="card-body">
                        <h5>${horse.name}</h5>
                        <p>${horse.location}</p>
                        <p class="price">${horse.price}$</p>
                    </div>
                `;

                // Add click event to redirect to the horse details page
                card.addEventListener('click', () => {
                    console.log(horse.horse_id);
                    window.location.href = `horse-details.html?id=${horse.horse_id}`;
                });

                cardsSection.appendChild(card);
            });

            // Increment current page for next batch of horses
            currentPage++;

            // Hide the "View More" button if fewer than 4 horses are loaded
            if (horses.length < cardsPerPage) {
                viewMoreButton.style.display = 'none';
            }
        } catch (error) {
            console.error('Error loading horses:', error);
        }
    }

    // Load the first set of cards on page load
    document.addEventListener('DOMContentLoaded', () => {
        loadHorses();
    });

    // Attach event listener to "View More" button
    document.getElementById('viewMoreButton').addEventListener('click', () => {
        loadHorses();
    });
</script>

    
</body>

</html>
